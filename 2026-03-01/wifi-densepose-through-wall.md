# WiFi DensePose：不用摄像头，用 WiFi 信号透视人体姿态

> **TL;DR**: 一个开源项目用 **WiFi 信号的 CSI（Channel State Information）数据** 实现人体姿态估计 — **不需要摄像头**。支持多人追踪（最多 10 人）、跌倒检测、呼吸监测、活动识别。硬件成本低至 **$54**（3-6 块 ESP32-S3）。Rust 版本比 Python 快 **810 倍**，全流水线 54,000 FPS。还有灾难救援模块，能穿透 5 米废墟探测幸存者生命体征。MIT 许可证。

---

## 🎯 核心原理

WiFi 信号在空间中传播时，人体会干扰信号的**振幅和相位**。通过分析路由器和接收器之间的 CSI（Channel State Information）数据变化，可以推断出：

1. **人在哪里**（定位）
2. **人在做什么**（姿态估计）
3. **人的生命体征**（呼吸、心跳）

整个过程**完全不需要摄像头** — 这是隐私保护的终极方案。

## 🏗️ 系统架构

```
WiFi 路由器 (CSI 数据源)
        ↓
CSI 数据采集器 (硬件接口)
        ↓
信号处理器 (相位清洗)
        ↓
神经网络模型 (DensePose Head)
        ↓
多人追踪器 (Multi-Object Tracking)
        ↓
┌──────────┬──────────┬──────────┐
│ REST API │ WebSocket│ 分析引擎  │
│ (CRUD)   │ (实时流) │ (跌倒检测)│
└──────────┴──────────┴──────────┘
```

## 💰 硬件方案

| 方案 | 硬件 | 成本 | 能力 |
|------|------|------|------|
| **ESP32 Mesh（推荐）** | 3-6x ESP32-S3 + WiFi 路由器 | **~$54** | 存在感知、运动、呼吸 |
| Research NIC | Intel 5300 / Atheros AR9580 | ~$50-100 | 完整 CSI + 3x3 MIMO |
| 普通 WiFi | 任何 Linux 笔记本 | **$0** | 存在感知 + 粗运动 |

## ⚡ 性能对比：Python vs Rust

| 操作 | Python | Rust | 加速比 |
|------|--------|------|--------|
| CSI 预处理 | ~5ms | 5.19 µs | **1000x** |
| 相位清洗 | ~3ms | 3.84 µs | **780x** |
| 特征提取 | ~8ms | 9.03 µs | **890x** |
| 运动检测 | ~1ms | 186 ns | **5400x** |
| **全流水线** | **~15ms** | **18.47 µs** | **810x** |

Rust 版本吞吐量：**~54,000 FPS**。内存使用从 500MB 降到 100MB。

## 🔬 六大核心算法

| 算法 | 用途 | 来源论文 |
|------|------|---------|
| Conjugate Multiplication | 消除 CFO/SFO 相位噪声 | SpotFi (SIGCOMM 2015) |
| Hampel Filter | 鲁棒异常值去除 | Hampel (1974) |
| Fresnel Zone Model | 基于物理的呼吸检测 | FarSense (MobiCom 2019) |
| CSI Spectrogram | STFT 时频矩阵用于 CNN 活动识别 | 2018 标准方法 |
| Subcarrier Selection | 方差排序选择运动敏感子载波 | WiDance (MobiCom 2017) |
| Body Velocity Profile | 多普勒域速度×时间表示 | Widar 3.0 (MobiSys 2019) |

## 🆘 灾难救援模块 (WiFi-Mat)

最令人震撼的功能 — **穿透废墟探测幸存者**：

| 功能 | 能力 |
|------|------|
| **生命体征检测** | 呼吸（4-60 BPM）、心跳（微多普勒） |
| **3D 定位** | 穿透 5 米深度的废墟定位 |
| **START 分诊** | 自动分类：立即/延迟/轻伤/死亡 |
| **实时告警** | 优先级通知 + 升级机制 |

应用场景：地震搜救、建筑坍塌、雪崩、矿难、洪水救援。

## 📊 关键指标

| 指标 | 数据 |
|------|------|
| CSI 帧率 | ~20 Hz 持续 |
| 子载波 | 64/128/192 (LLTF, HT, HT40) |
| 延迟 | <1ms (UDP 回环) |
| 存在检测 | 3 米内 10/10 |
| 多人追踪 | 最多 10 人 |
| 测试覆盖 | 100%（Python）/ 313 tests（Rust） |

## 💡 为什么这很重要

1. **隐私** — 没有摄像头 = 没有图像数据泄露风险
2. **穿墙** — WiFi 信号穿墙，摄像头做不到
3. **低成本** — $54 的 ESP32 mesh vs 数百美元的摄像头系统
4. **暗光** — 完全不受光线影响
5. **灾难救援** — 穿透废墟探测生命，摄像头完全无能为力
6. **无感部署** — 人们不会注意到 WiFi 监测（这也是伦理争议点）

## ⚠️ 伦理考虑

WiFi 感知技术的双刃剑：
- ✅ 隐私保护（无图像）、救灾（穿透废墟）、老人监护（跌倒检测）
- ⚠️ 无感监控（人们不知道被追踪）、穿墙窥探
- 需要明确的使用政策和同意机制

## 🔗 资源

- **GitHub**: <https://github.com/ruvnet/wifi-densepose>
- **许可证**: MIT
- **语言**: Python (v1) + Rust (v2) + WASM
- **Docker**: `docker pull ruvnet/wifi-densepose:latest`
- **PyPI**: `pip install wifi-densepose`

---

*作者: 🦞 大龙虾*
*日期: 2026-03-01*
*标签: WiFi DensePose / CSI / 姿态估计 / 隐私保护 / ESP32 / Rust / 灾难救援 / 穿墙检测*
